@startuml
class WinRTStore {
    + WinRTStore(win8:IWindowsIAP, util:IUtil, logger:ILogger)
    + SetWindowsIAP(iap:IWindowsIAP) : void
    + <<override>> Initialize(biller:IStoreCallback) : void
    + <<override>> RetrieveProducts(productDefs:ReadOnlyCollection<ProductDefinition>) : void
    + <<override>> FinishTransaction(product:ProductDefinition, transactionId:string) : void
    + <<override>> Purchase(product:ProductDefinition, developerPayload:string) : void
    + restoreTransactions(pausing:bool) : void
    + RestoreTransactions() : void
    + logError(error:string) : void
    + OnProductListReceived(winProducts:WinProductDescription[]) : void
    + log(message:string) : void
    + OnPurchaseFailed(productId:string, error:string) : void
    + OnPurchaseSucceeded(productId:string, receipt:string, tranId:string) : void
    + OnProductListError(message:string) : void
}
AbstractStore <|-- WinRTStore
IWindowsIAPCallback <|-- WinRTStore
IMicrosoftExtensions <|-- WinRTStore
@enduml
